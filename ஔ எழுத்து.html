<!DOCTYPE html>
<html lang="ta">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>родрооро┐ро┤рпН роОро┤рпБродрпНродрпБ - роФ (рокрпБро│рпНро│ро┐ роЗрогрпИрокрпНрокрпБ рокропро┐ро▒рпНроЪро┐)</title>
<style>
body {
  background: #fff8e1;
  text-align: center;
  font-family: 'Noto Sans Tamil';
}
canvas {
  border: 2px solid #333;
  border-radius: 12px;
  margin-top: 20px;
  background-color: white;
}
button {
  margin: 10px;
  padding: 10px 20px;
  border: none;
  background: #0288d1;
  color: #fff;
  border-radius: 8px;
}
#result { font-size: 1.3em; margin-top: 10px; }
</style>
</head>
<body>

<h2>тАЬроФтАЭ роОро┤рпБродрпНродрпБ - рокрпБро│рпНро│ро┐роХро│рпИ роЗрогрпИ</h2>
<canvas id="board" width="500" height="400"></canvas><br>
<button onclick="checkDrawing()">роЪро░ро┐ рокро╛ро░рпНроХрпНроХ</button>
<button onclick="clearCanvas()">роЕро┤ро┐</button>
<div id="result"></div>

<button id="back-btn">тмЕя╕П Back</button>
<script>
  
const canvas = document.getElementById("board");
const ctx = canvas.getContext("2d");

let drawing = false;
let userPath = [];

// тАЬроФтАЭ роОро┤рпБродрпНродрпБ рокрпБро│рпНро│ро┐роХро│рпН ---
const dotPoints = [
 {x:45,y:189},{x:58,y:169},{x:84,y:170},{x:95,y:189},
 {x:91,y:214},{x:66,y:224},{x:43,y:213},{x:27,y:190},
 {x:28,y:161},{x:41,y:136},{x:59,y:120},{x:82,y:109},
 {x:107,y:101},{x:134,y:102},{x:162,y:109},{x:188,y:123},
 {x:205,y:144},{x:215,y:167},{x:214,y:193},{x:198,y:209},
 {x:171,y:210},{x:160,y:190},{x:160,y:169},{x:137,y:179},
 {x:129,y:200},{x:133,y:221},{x:147,y:236},{x:164,y:245},
 {x:185,y:245},{x:205,y:245},{x:149,y:260},{x:138,y:279},
 {x:123,y:299},{x:98,y:304},{x:78,y:301},{x:62,y:287},
 {x:63,y:265},{x:81,y:253},

 {x:293,y:193},{x:299,y:170},{x:318,y:160},{x:338,y:169},
 {x:348,y:189},{x:340,y:212},{x:322,y:225},{x:298,y:217},
 {x:278,y:207},{x:266,y:185},{x:264,y:161},{x:271,y:134},
 {x:289,y:113},{x:313,y:101},{x:342,y:103},{x:365,y:119},
 {x:382,y:133},{x:383,y:157},{x:382,y:180},{x:383,y:206},
 {x:384,y:227},

 {x:383,y:102},{x:405,y:103},{x:427,y:103},{x:448,y:102},
 {x:469,y:101},{x:489,y:101},{x:450,y:127},{x:450,y:153},
 {x:450,y:177},{x:450,y:203},{x:449,y:226}
];
// draw dots
function drawDots() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = "black";
  dotPoints.forEach(d => {
    ctx.beginPath();
    ctx.arc(d.x, d.y, 4, 0, Math.PI * 2);
    ctx.fill();
  });
}
drawDots();

// get position (mouse + touch)
function getPos(e) {
  const rect = canvas.getBoundingClientRect();
  if (e.touches) {
    return {
      x: e.touches[0].clientX - rect.left,
      y: e.touches[0].clientY - rect.top
    };
  }
  return {
    x: e.clientX - rect.left,
    y: e.clientY - rect.top
  };
}

// start draw
function startDraw(e) {
  e.preventDefault();
  drawing = true;
  ctx.beginPath();
}

// draw move
function drawMove(e) {
  if (!drawing) return;
  e.preventDefault();
  const pos = getPos(e);
  userPath.push(pos);
  ctx.strokeStyle = "blue";
  ctx.lineWidth = 3;
  ctx.lineTo(pos.x, pos.y);
  ctx.stroke();
}

// stop draw
function stopDraw() {
  drawing = false;
}

// mouse
canvas.addEventListener("mousedown", startDraw);
canvas.addEventListener("mousemove", drawMove);
canvas.addEventListener("mouseup", stopDraw);

// ЁЯУ▒ touch
canvas.addEventListener("touchstart", startDraw);
canvas.addEventListener("touchmove", drawMove);
canvas.addEventListener("touchend", stopDraw);

// check
function checkDrawing() {
  let matched = 0;
  dotPoints.forEach(dot => {
    userPath.some(u => {
      if (Math.hypot(dot.x - u.x, dot.y - u.y) < 12) {
        matched++;
        return true;
      }
    });
  });

  result.innerHTML =
    matched === dotPoints.length
      ? "тЬЕ роиройрпНро▒ро╛роХ роОро┤рпБродро┐ропрпБро│рпНро│рпАро░рпНроХро│рпН!"
      : "тЭМ рокрпБро│рпНро│ро┐роХро│рпИ роЪро░ро┐ропро╛роХ роЗрогрпИроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН!";
}

// clear
function clearCanvas() {
  userPath = [];
  drawDots();
  result.innerHTML = "";
}

// back
document.getElementById("back-btn").onclick = () => {
  window.location.href = "родрооро┐ро┤рпН роОро┤рпБродрпНродрпБроХро│рпН.html";
};
</script>

</body>
</html>
