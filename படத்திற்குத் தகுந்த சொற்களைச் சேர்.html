<!DOCTYPE html>
<html lang="ta">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>рокроЯродрпНродро┐ро▒рпНроХрпБ родроХрпБроирпНрод роЪрпКро▒рпНроХро│рпИроЪрпН роЪрпЗро░рпН</title>
<style>
  body {
    font-family: 'Latha', sans-serif;
    background: #f9f9fc;
    margin: 0;
    text-align: center;
  }
  h2 {
    background: #ff6666;
    color: white;
    margin: 0;
    padding: 15px;
  }

  .game-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 30px;
    margin: 30px auto;
    max-width: 1500px;
  }

  .word-row, .image-row {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 25px;
  }

  .word, .dropzone {
    background: white;
    border: 2px solid #ccc;
    border-radius: 10px;
    padding: 10px;
    width: 120px;
    text-align: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }

  .word {
    cursor: grab;
    background: #fff9e6;
  }

  .image-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 160px;
  border-radius: 10px;
  gap: 10px;
}

.image-box img {
  width: 160px;
  height: 150px;
  border-radius: 10px;
  border: 2px solid #ccc;
  background: white;
}


  .dropzone {
    margin-top: 8px;
    height: 35px;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #ffffff;
  }

  .dropzone.hover {
    border-color: #007bff;
    background: #e8f0ff;
  }

  .correct { border-color: green; background: #d4edda; color: green; font-weight: bold; }
  .wrong { border-color: red; background: #f8d7da; color: red; font-weight: bold; }

  .btn {
    background: #007bff;
    color: white;
    border: none;
    padding: 12px 20px;
    font-size: 16px;
    border-radius: 8px;
    cursor: pointer;
    margin: 10px;
  }

  .btn:hover { opacity: 0.9; }

  #result {
    font-size: 20px;
    font-weight: bold;
    color: #333;
    margin-top: 20px;
  }
</style>
</head>
<body>

<h2>ЁЯОп рокроЯродрпНродрпБроЯройрпН роЪрпКро▓рпН рокрпКро░рпБродрпНродроорпН - ро╡роХрпБрокрпНрокрпБ 1</h2>

<div class="game-wrapper">
  <div id="wordRow" class="word-row"></div>
  <div id="imageRow" class="image-row"></div>
</div>

<div>
  <button class="btn" onclick="goHome()">ЁЯПа роорпБроХрокрпНрокрпБ</button>
  <button class="btn" onclick="prevPage()">тмЕя╕П рокро┐ройрпН роЪрпЖро▓рпН</button>
  <button class="btn" onclick="nextPage()">тЮбя╕П роЕроЯрпБродрпНродродрпБ</button>
  <button id="checkBtn" class="btn" onclick="checkAnswers()">тЬЕ роЪро░ро┐рокро╛ро░рпНроХрпНроХ</button>
  <button class="btn" onclick="restartGame()">ЁЯФБ роорпАрогрпНроЯрпБроорпН роорпБропро▒рпНроЪро┐ роЪрпЖропрпН</button>
</div>

<div id="result"></div>

<script>
const allSets = [
  [
    {word:"рокро▓рпН родрпБро▓роХрпНроХрпБ", img:"css/images/рокро▓рпН родрпБро▓роХрпНроХрпБ.jpg"},
    {word:"роХрпБро│ро┐", img:"css/images/роХрпБро│ро┐.jpg"},
    {word:"роЙроЯрпИ роЕрогро┐", img:"css/images/роЙроЯрпИропрогро┐.jpg"},
    {word:"роорпБроЯро┐ропрпИроЪрпН роЪрпАро╡рпБ", img:"css/images/родро▓рпИроЪрпАро╡рпБ.jpg"},
    {word:"роЙрогро╡рпИроЪрпН роЪро╛рокрпНрокро┐роЯрпБ", img:"css/images/роЪро╛рокрпНрокро┐роЯрпБ.jpg"},
    {word:"рокрпЖро░ро┐ропрпЛро░рпИ ро╡рогроЩрпНроХрпБ", img:"css/images/ро╡рогроЩрпНроХрпБ2.jpeg"},
    {word:"роХро╛ро▓рпИропро┐ро▓рпН роОро┤рпБ", img:"css/images/роХро╛ро▓рпИропро┐ро▓рпН роОро┤рпБ.jpg"},
    {word:"роХро╛ро▓рогро┐ роЕрогро┐", img:"css/images/роХро╛ро▓рогро┐ роЕрогро┐.jpg"},
    {word:"родро┐ройроорпБроорпН рокроЯро┐", img:"css/images/родро┐ройроорпБроорпН рокроЯро┐.jpg"},
    {word:"ро╡рпАроЯрпНроЯрпБрокрпНрокро╛роЯроорпН роОро┤рпБродрпБ",img:"css/images/ро╡рпАроЯрпНроЯрпБрокрпНрокро╛роЯроорпН роОро┤рпБродрпБ.jpeg"},
  ],
  [
    {word:"роХро╛ро▓рпН рокроирпНродро╛роЯрпНроЯроорпН", img:"css/images/роХро╛ро▓рпН рокроирпНродро╛роЯрпНроЯроорпН.jpg"},
    {word:"роороЯрпНроЯрпИ рокроирпНродро╛роЯрпНроЯроорпН", img:"css/images/роороЯрпНроЯрпИ рокроирпНродро╛роЯрпНроЯроорпН.jpg"},
    {word:"роЪродрпБро░роЩрпНроХроорпН", img:"css/images/роЪродрпБро░роЩрпНроХроорпН.jpeg"},
    {word:"роХрпБрогрпНроЯрпБ роОро▒ро┐родро▓рпН", img:"css/images/роХрпБрогрпНроЯрпБ роОро▒ро┐родро▓рпН.jpg"},
    {word:"ро╣ро╛роХрпНроХро┐", img:"css/images/ро╣ро╛роХрпНроХро┐.jpeg"},
    {word:"роУроЯрпНроЯрокрпНрокроирпНродропроорпН", img:"css/images/роУроЯрпНроЯрокрпНрокроирпНродропроорпН.jpg"},
    {word:"роЙропро░роорпН родро╛рогрпНроЯрпБродро▓рпН", img:"css/images/роЙропро░роорпН родро╛рогрпНроЯрпБродро▓рпН.jpg"},
    {word:"роЪроЯрпБроХрпБроЯрпБ", img:"css/images/роХрокроЯро┐.jpg"},
    {word:"роирпАроЪрпНроЪро▓рпН рокрпЛроЯрпНроЯро┐", img:"css/images/роирпАроЪрпНроЪро▓рпН рокрпЛроЯрпНроЯро┐.jpg"},
    {word:"роИроЯрпНроЯро┐ роОро▒ро┐родро▓рпН", img:"css/images/роИроЯрпНроЯро┐ роОро▒ро┐родро▓рпН.jpg"}
  ]
];

let currentSet = 0;
let score = 0;
let total = allSets.length * 10;
let answersBySet = {};
let shuffledSets = {};
let resultBySet = {}; // ЁЯСИ роЪро░ро┐ / родро╡ро▒рпБ status роЪрпЗрооро┐роХрпНроХ


function loadGame() {
  const wordRow = document.getElementById("wordRow");
  const imageRow = document.getElementById("imageRow");
  wordRow.innerHTML = "";
  imageRow.innerHTML = "";
  document.getElementById("result").textContent = "";

  const checkBtn = document.getElementById("checkBtn");
  checkBtn.style.display =
    currentSet === allSets.length - 1 ? "inline-block" : "none";

  const set = allSets[currentSet];

  // ЁЯФТ shuffle only once per set
  if (!shuffledSets[currentSet]) {
    shuffledSets[currentSet] = [...set].sort(() => Math.random() - 0.5);
  }
  const shuffledImages = shuffledSets[currentSet];

  // роЪрпКро▒рпНроХро│рпН
  set.forEach(item => {
    const wordDiv = document.createElement("div");
    wordDiv.className = "word";
    wordDiv.textContent = item.word;
    wordDiv.draggable = true;
    wordDiv.dataset.word = item.word;
    wordDiv.ondragstart = e =>
      e.dataTransfer.setData("text", item.word);
    wordRow.appendChild(wordDiv);
  });

  // рокроЯроЩрпНроХро│рпН
  shuffledImages.forEach(item => {
    const box = document.createElement("div");
    box.className = "image-box";

    const img = document.createElement("img");
    img.src = item.img;

    const drop = document.createElement("div");
drop.className = "dropzone";
drop.dataset.word = item.word;

// рокро┤рпИроп рокродро┐ро▓рпН
if (answersBySet[currentSet]?.[item.word]) {
  drop.textContent = answersBySet[currentSet][item.word];
}

// роЪро░ро┐ / родро╡ро▒рпБ color
if (resultBySet[currentSet]?.[item.word] === "correct") {
  drop.classList.add("correct");
}
if (resultBySet[currentSet]?.[item.word] === "wrong") {
  drop.classList.add("wrong");
}

// тнР REQUIRED for drag & drop
drop.ondragover = e => {
  e.preventDefault();
  drop.classList.add("hover");
};

drop.ondragleave = () => {
  drop.classList.remove("hover");
};

drop.ondrop = e => {
  e.preventDefault();
  drop.classList.remove("hover");

  const draggedWord = e.dataTransfer.getData("text/plain");
  drop.textContent = draggedWord;

  drop.classList.remove("correct", "wrong");

  if (!answersBySet[currentSet]) {
    answersBySet[currentSet] = {};
  }
  answersBySet[currentSet][item.word] = draggedWord;
};



    box.appendChild(img);
    box.appendChild(drop);
    imageRow.appendChild(box);
  });
}


function nextPage() {
  if (currentSet < allSets.length - 1) {
    currentSet++;
    loadGame();
  } else {
    alert("роЗродрпБ роХроЯрпИроЪро┐ рокроХрпНроХроорпН!");
  }
}

function prevPage() {
  if (currentSet > 0) {
    currentSet--;
    loadGame();
  } else {
    alert("роЗродрпБ роорпБродро▓рпН рокроХрпНроХроорпН!");
  }
}

function checkAnswers() {
  let correct = 0;
  let totalQuestions = 0;
  resultBySet = {}; // reset

  allSets.forEach((set, setIndex) => {
    resultBySet[setIndex] = {};

    set.forEach(item => {
      totalQuestions++;

      if (
        answersBySet[setIndex] &&
        answersBySet[setIndex][item.word] === item.word
      ) {
        resultBySet[setIndex][item.word] = "correct";
        correct++;
      } else {
        resultBySet[setIndex][item.word] = "wrong";
      }
    });
  });

  loadGame(); // ЁЯСИ current page-ро▓рпН color роХро╛роЯрпНроЯ
  document.getElementById("result").textContent =
    `тЬЕ роирпАроЩрпНроХро│рпН ${correct} / ${totalQuestions} роЪро░ро┐ропро╛роХ рокрпКро░рпБродрпНродро┐ропрпБро│рпНро│рпАро░рпНроХро│рпН!`;
}


function restartGame() {
  currentSet = 0;
  score = 0;
 answersBySet = {};
resultBySet = {};
shuffledSets = {};

  loadGame();
  document.getElementById("result").textContent = "";
}

function goHome() {
  // роЙроЩрпНроХро│рпН ро╣рпЛроорпН рокроХрпНроХроорпН (index.html роЕро▓рпНро▓родрпБ ро╡рпЗро▒рпБ link)
  window.location.href = "index.html";
}

loadGame();
</script>
</body>
</html>
