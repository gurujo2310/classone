<!DOCTYPE html>
<html lang="ta">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>தமிழ் எழுத்து - அ (புள்ளி இணைப்பு பயிற்சி)</title>
  <style>
    body {
      background: #fff8e1;
      text-align: center;
      font-family: 'Noto Sans Tamil';
    }

    canvas {
      border: 2px solid #333;
      border-radius: 12px;
      margin-top: 20px;
      background-color: white;
    }

    button {
      margin: 10px;
      padding: 10px 20px;
      border: none;
      background: #0288d1;
      color: #fff;
      border-radius: 8px;
    }

    #back-btn {
      margin-top: 20px;
      background-color: #1976d2;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      font-size: 16px;
    }

    #result {
      font-size: 1.3em;
      margin-top: 10px;
    }
  </style>
</head>

<body>

  <h2>“ஆ” எழுத்து - புள்ளிகளை இணை</h2>
  <canvas id="board" width="500" height="400"></canvas><br>
  <button onclick="checkDrawing()">சரி பார்க்க</button>
  <button onclick="clearCanvas()">அழி</button>
  <div id="result"></div>

  <button id="back-btn">⬅️ Back</button>
  <script>
    const canvas = document.getElementById("board");
    const ctx = canvas.getContext("2d");
    let drawing = false;
    let userPath = [];

    // --- “ஆ” எழுத்து புள்ளிகள் (AA.jpg போல காணும் அமைப்பு) --- 
    const dotPoints = [
      { x: 213, y: 76 }, { x: 225, y: 97 }, { x: 229, y: 120 }, { x: 221, y: 144 }, { x: 202, y: 159 }, { x: 174, y: 159 }, 
      { x: 152, y: 145 }, { x: 144, y: 123 }, { x: 145, y: 99 }, { x: 153, y: 81 }, { x: 163, y: 69 }, { x: 178, y: 58 }, {
         x: 195, y: 56 }, { x: 220, y: 57 }, { x: 242, y: 62 }, { x: 262, y: 72 }, { x: 278, y: 93 }, { x: 289, y: 113 }, 
         { x: 293, y: 136 }, { x: 298, y: 158 }, { x: 297, y: 182 }, { x: 294, y: 205 }, { x: 287, y: 228 }, { x: 276, y: 245 }, 
         { x: 265, y: 259 }, { x: 248, y: 272 }, { x: 230, y: 284 }, { x: 207, y: 292 }, { x: 182, y: 297 }, { x: 159, y: 297 }, 
         { x: 134, y: 297 }, { x: 110, y: 294 }, { x: 85, y: 286 }, { x: 65, y: 277 }, { x: 52, y: 267 }, { x: 42, y: 249 }, 
         { x: 41, y: 230 }, { x: 48, y: 217 }, { x: 61, y: 207 }, { x: 80, y: 208 }, { x: 102, y: 207 }, { x: 129, y: 207 }, 
         { x: 152, y: 208 }, { x: 180, y: 208 }, { x: 209, y: 208 }, { x: 237, y: 209 }, { x: 267, y: 207 }, { x: 326, y: 206 }, 
         { x: 350, y: 205 }, { x: 374, y: 204 }, { x: 375, y: 174 }, { x: 374, y: 149 }, { x: 375, y: 125 }, { x: 376, y: 100 }, 
         { x: 377, y: 78 }, { x: 378, y: 61 }, { x: 377, y: 230 }, { x: 376, y: 258 }, { x: 378, y: 282 }, { x: 380, y: 299 }, 
         { x: 401, y: 229 }, { x: 425, y: 225 }, { x: 448, y: 234 }, { x: 462, y: 255 }, { x: 465, y: 285 }, { x: 462, y: 308 }, 
         { x: 449, y: 330 }, { x: 432, y: 344 }, { x: 413, y: 359 }, { x: 394, y: 369 }, { x: 373, y: 375 }, { x: 346, y: 376 }, 
         { x: 321, y: 372 }, { x: 301, y: 362 }, { x: 287, y: 349 }, { x: 280, y: 329 }, { x: 288, y: 310 }, { x: 305, y: 303 }

         
    ]



    // புள்ளிகள் வரை
    function drawDots() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = "black";
      for (const d of dotPoints) {
        ctx.beginPath();
        ctx.arc(d.x, d.y, 4, 0, Math.PI * 2);
        ctx.fill();
      }
    }
    drawDots();

    // வரையல்
    canvas.addEventListener("mousedown", () => { drawing = true; ctx.beginPath(); });
    canvas.addEventListener("mouseup", () => drawing = false);
    canvas.addEventListener("mousemove", e => {
      if (!drawing) return;
      const r = canvas.getBoundingClientRect();
      const x = e.clientX - r.left, y = e.clientY - r.top;
      userPath.push({ x, y });
      ctx.strokeStyle = "blue"; ctx.lineWidth = 3;
      ctx.lineTo(x, y); ctx.stroke();
    });

    // சரிபார்ப்பு
    function checkDrawing() {
      let matched = 0;
      for (const dot of dotPoints) {
        for (const u of userPath) {
          const dist = Math.hypot(dot.x - u.x, dot.y - u.y);
          if (dist < 12) { matched++; break; }
        }
      }
      const percent = matched / dotPoints.length;
      if (percent >= 1) {
        document.getElementById("result").innerHTML = "✅ நன்றாக வரையப்பட்டிருக்கிறது!";
      } else {
        document.getElementById("result").innerHTML = "❌ புள்ளிகளை சரியாக இணைக்க வேண்டும்!";
      }
    }

    // அழி
    function clearCanvas() {
      userPath = [];
      drawDots();
      document.getElementById("result").innerText = "";
    }

    const backBtn = document.getElementById('back-btn');

    backBtn.addEventListener('click', () => {
      window.location.href = "class1.html";
    });


  </script>

</body>

</html>