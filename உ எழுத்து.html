<!DOCTYPE html>
<html lang="ta">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>родрооро┐ро┤рпН роОро┤рпБродрпНродрпБ - роЙ (рокрпБро│рпНро│ро┐ роЗрогрпИрокрпНрокрпБ рокропро┐ро▒рпНроЪро┐)</title>
<style>
body {
  background: #fff8e1;
  text-align: center;
  font-family: 'Noto Sans Tamil';
}
canvas {
  border: 2px solid #333;
  border-radius: 12px;
  margin-top: 20px;
  background-color: white;
}
button {
  margin: 10px;
  padding: 10px 20px;
  border: none;
  background: #0288d1;
  color: #fff;
  border-radius: 8px;
}
#result { font-size: 1.3em; margin-top: 10px; }
</style>
</head>
<body>

<h2>тАЬроЙтАЭ роОро┤рпБродрпНродрпБ - рокрпБро│рпНро│ро┐роХро│рпИ роЗрогрпИ</h2>
<canvas id="board" width="500" height="400"></canvas><br>
<button onclick="checkDrawing()">роЪро░ро┐ рокро╛ро░рпНроХрпНроХ</button>
<button onclick="clearCanvas()">роЕро┤ро┐</button>
<div id="result"></div>

<button id="back-btn">тмЕя╕П Back</button>
<script>
  
const canvas = document.getElementById("board");
const ctx = canvas.getContext("2d");

let drawing = false;
let userPath = [];

// --- тАЬроЙтАЭ роОро┤рпБродрпНродрпБ рокрпБро│рпНро│ро┐роХро│рпН ---
const dotPoints = [
 {x:176,y:156},{x:179,y:187},{x:151,y:203},{x:127,y:185},{x:130,y:154},
 {x:155,y:137},{x:188,y:132},{x:222,y:137},{x:246,y:158},{x:258,y:185},
 {x:250,y:213},{x:226,y:233},{x:197,y:241},{x:168,y:239},{x:138,y:243},
 {x:126,y:260},{x:143,y:280},{x:178,y:278},{x:212,y:278},{x:246,y:277},
 {x:282,y:277},{x:315,y:277},{x:351,y:277},{x:383,y:277}
];

// draw dots
function drawDots() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = "black";
  dotPoints.forEach(d => {
    ctx.beginPath();
    ctx.arc(d.x, d.y, 4, 0, Math.PI * 2);
    ctx.fill();
  });
}
drawDots();

// get position (mouse + touch)
function getPos(e) {
  const rect = canvas.getBoundingClientRect();
  if (e.touches) {
    return {
      x: e.touches[0].clientX - rect.left,
      y: e.touches[0].clientY - rect.top
    };
  }
  return {
    x: e.clientX - rect.left,
    y: e.clientY - rect.top
  };
}

// start draw
function startDraw(e) {
  e.preventDefault();
  drawing = true;
  ctx.beginPath();
}

// draw move
function drawMove(e) {
  if (!drawing) return;
  e.preventDefault();
  const pos = getPos(e);
  userPath.push(pos);
  ctx.strokeStyle = "blue";
  ctx.lineWidth = 3;
  ctx.lineTo(pos.x, pos.y);
  ctx.stroke();
}

// stop draw
function stopDraw() {
  drawing = false;
}

// mouse
canvas.addEventListener("mousedown", startDraw);
canvas.addEventListener("mousemove", drawMove);
canvas.addEventListener("mouseup", stopDraw);

// ЁЯУ▒ touch
canvas.addEventListener("touchstart", startDraw);
canvas.addEventListener("touchmove", drawMove);
canvas.addEventListener("touchend", stopDraw);

// check
function checkDrawing() {
  let matched = 0;
  dotPoints.forEach(dot => {
    userPath.some(u => {
      if (Math.hypot(dot.x - u.x, dot.y - u.y) < 12) {
        matched++;
        return true;
      }
    });
  });

  result.innerHTML =
    matched === dotPoints.length
      ? "тЬЕ роиройрпНро▒ро╛роХ роОро┤рпБродро┐ропрпБро│рпНро│рпАро░рпНроХро│рпН!"
      : "тЭМ рокрпБро│рпНро│ро┐роХро│рпИ роЪро░ро┐ропро╛роХ роЗрогрпИроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН!";
}

// clear
function clearCanvas() {
  userPath = [];
  drawDots();
  result.innerHTML = "";
}

// back
document.getElementById("back-btn").onclick = () => {
  window.location.href = "родрооро┐ро┤рпН роОро┤рпБродрпНродрпБроХро│рпН.html";
};
</script>

</body>
</html>
