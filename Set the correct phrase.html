<!DOCTYPE html>
<html lang="ta">
<head>
<meta charset="utf-8" />
<title>роЪрпКро▒рпНро▒рпКроЯро░рпН (4 роЪрпКро▒рпНроХро│рпН) тАФ 50 роХрпЗро│рпНро╡ро┐роХро│рпН</title>
<style>
  body { font-family: "Noto Sans Tamil", sans-serif; background:#f4f6f9; margin:0; padding:20px; text-align:center; }
  .container { max-width:900px; margin:auto; background:white; padding:18px; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,0.06); }
  h1{ margin:0 0 8px 0; font-size:22px;}
  .meta{ color:#666; margin-bottom:12px;}
  .qbox{ text-align:left; border:1px solid #eee; padding:12px; border-radius:10px; margin-bottom:10px; background:#fafafa;}
  .qnum { font-weight:bold; color:#1976d2; margin-bottom:6px; }
  .shuffledWords{ font-size:16px; margin-bottom:8px; color:#222; }
  input { width:100%; padding:8px; font-size:16px; border-radius:8px; border:1px solid #cfd6e3; box-sizing:border-box; }
  input.correct { border-color:#2e7d32; background:#e8f5e9; }
  input.wrong { border-color:#b00020; background:#ffebee; }
  .answerLine{ margin-top:5px; font-size:14px; color:#00796b; display:none; }
  .answerLine.show { display:block; }
  .controls{ margin-top:14px; display:flex; gap:8px; justify-content:center; flex-wrap:wrap; }
  button{ padding:10px 18px; font-size:15px; border:none; border-radius:8px; cursor:pointer; color:white; }
  .btn-grey{ background:#666; } .btn-blue{ background:#1976d2; } .btn-green{ background:#00796b; } .btn-red{ background:#d32f2f; }
  .pager{ margin-top:14px; }
  
  .pageBtns{ 
  display:flex;
  justify-content:center;
  align-items:center;
  flex-wrap:wrap;   /* роЕродро┐роХ buttons роЗро░рпБроирпНродро╛ро▓рпН next line */
}

.pageBtns button{
  margin:0 4px;
  border-radius:50%;
  width:36px;
  height:36px;
  font-weight:bold;
  background:#ccc;
  color:#000;
  display:flex;
  align-items:center;
  justify-content:center;
}

.pageBtns button.active{
  background:#1976d2;
  color:white;
}

  #scoreBox{ display:none; margin-top:12px; padding:10px; border-radius:8px; background:#eef7f3; border:1px solid #d6efe7; }
  .note{ color:#555; font-size:13px; margin-top:8px;}
</style>
</head>
<body>
  <div class="container">
    <h1>роЪрпКро▒рпНро▒рпКроЯро░рпН роЕроорпИроХрпНроХро╡рпБроорпН</h1>
    <div class="meta">роТро░рпБ рокроХрпНроХродрпНродро┐ро▓рпН 10 роХрпЗро│рпНро╡ро┐роХро│рпН тАФ роорпКродрпНродроорпН 5 рокроХрпНроХроЩрпНроХро│рпН</div>

    <div id="quiz"></div>

    <div class="controls">
      <button id="prevBtn" class="btn-grey">тмЕя╕П роорпБроирпНродрпИропродрпБ</button>
      <button id="nextBtn" class="btn-blue">тЮбя╕П роЕроЯрпБродрпНродродрпБ</button>
      <button id="checkBtn" class="btn-green" style="display:none;">тЬЕ роЪро░ро┐рокро╛ро░рпН</button>
      <button id="homeBtn" class="btn-grey">ЁЯПа роорпБроХрокрпНрокрпБ</button>
    </div>

    <div class="pager">
      <div class="pageBtns" id="pageBtns"></div>
    </div>

    <div id="scoreBox">
      <div>ЁЯОп роорпКродрпНрод роородро┐рокрпНрокрпЖрогрпН: <strong id="score"></strong> / <strong id="total"></strong></div>
      <div style="margin-top:8px;"><button id="retryBtn" class="btn-red">ЁЯФБ роорпАрогрпНроЯрпБроорпН роорпБропро▒рпНроЪро┐ роЪрпЖропрпН</button></div>
    </div>
  </div>

<script>
const QUESTIONS_PER_PAGE = 10;
const sentences = [
  "роиро╛ройрпН рокро│рпНро│ро┐роХрпНроХрпБ роЪрпЖройрпНро▒рпЗройрпН",
  "роЕро╡ройрпН рокро╛роЯроорпН рокроЯро┐родрпНродро╛ройрпН ",
  "роЕро╡ро│рпН роЗройрпНро▒рпБ рокрпВроирпНродрпЛроЯрпНроЯроорпН роЪрпЖройрпНро▒ро╛ро│рпН ",
  "рооро╛рогро╡ро░рпНроХро│рпН роЖроЪро┐ро░ро┐ропро░рпИ роЪроирпНродро┐родрпНродро╛ро░рпНроХро│рпН ",
  "роиро╛ропрпН роЙрогро╡рпБ роЪро╛рокрпНрокро┐роЯрпНроЯродрпБ ",
  "рооро░родрпНродро┐ро▓рпН роХро┐ро│ро┐ рокро▒роирпНродродрпБ ",
  "рокрпВ роЕро┤роХро╛роХ рооро▓ро░рпНроирпНродрпБро│рпНро│родрпБ",
  "роЗройрпНро▒рпБ рооро┤рпИ рокрпЖропрпНродродрпБ",
  "роЪрпВро░ро┐ропройрпН роХро╛ро▓рпИропро┐ро▓рпН роЙродро┐родрпНродродрпБ рооро╛ро▓рпИропро┐ро▓рпН рооро▒рпИроХро┐ро▒родрпБ",
  "роиродро┐ роКро░ро┐ро▓рпН роЕро┤роХро╛роХ роУроЯрпБроХро┐ро▒родрпБ ",
  "роЕрокрпНрокро╛ роХро╛ро▓рпИропро┐ро▓рпН ро╡рпЗро▓рпИроХрпНроХрпБ роЪрпЖройрпНро▒ро╛ро░рпН ",
  "роЕроорпНрооро╛ роЪроирпНродрпИроХрпНроХрпБ роЪрпЖройрпНро▒ро╛ро░рпН",
  "рокрпИропройрпН рокрпБродрпНродроХроорпН рокроЯро┐роХрпНроХро┐ро▒ро╛ройрпН",
  "роороХро│рпН рокро│рпНро│ро┐роХрпНроХрпБ роЪрпЖройрпНро▒ро╛ро│рпН",
  "роЕро╡ро░рпНроХро│рпН рокрпЛроЯрпНроЯро┐ропро┐ро▓рпН ро╡рпЖро▒рпНро▒ро┐ рокрпЖро▒рпНро▒ройро░рпН",
  "рокро▒ро╡рпИроХро│рпН ро╡ро░ро┐ропрпИропро╛роХ ро╡ро╛ройро┐ро▓рпН рокро▒роХрпНроХро┐ро▒родрпБ",
  "роХрпБро┤роирпНродрпИ родрпВроЩрпНроХро┐роХрпН роХрпКрогрпНроЯро┐ро░рпБроХрпНроХро┐ро▒ро╛ройрпН",
  "роирпЗро▒рпНро▒рпБ роЕрогрпНрогройрпН ро╡рпАроЯрпНроЯро┐ро▒рпНроХрпБ родро┐ро░рпБроорпНрокро┐ройро╛ройрпН",
  "родро╛родрпНродро╛ ро╡ро░ро▓ро╛ро▒рпНро▒рпБроХрпН роХродрпИроЪрпН роЪрпКройрпНройро╛ро░рпН",
  "роиро╛ропрпН ро╡ро╛ро▓рпИ роЖроЯрпНроЯро┐роХрпНроХрпКрогрпНроЯрпБ роУроЯрпБроХро┐ро▒родрпБ",
  "роиро╛ройрпН роиройрпНро▒ро╛роХродрпН родрооро┐ро┤рпНрокрпН рокрпЗроЪрпБроХро┐ро▒рпЗройрпН",
  "роЕро╡ро│рпН родро┐ро░рпИрокрпНрокроЯроорпН рокро╛ро░рпНроХрпНроХро┐ро▒ро╛ро│рпН",
  "родрпЛро┤ро┐роХро│рпН роороХро┐ро┤рпНроЪрпНроЪро┐ропро╛роХ рокрпЗроЪро┐роХрпНроХрпКрогрпНроЯро┐ро░рпБроХрпНроХро┐ро▒ро╛ро░рпНроХро│рпН",
  "роХрпБро░роЩрпНроХрпБ рооро░родрпНродро┐ро▓рпН ро╡рпЗроХрооро╛роХ родро╛ро╡ро┐роЪрпН роЪрпЖро▓рпНроХро┐ро▒родрпБ",
  "рокроЪрпБ рокрпБро▓рпНро▓рпИродрпН родро┐ройрпНройрпБроХро┐ро▒родрпБ",
  "рооро┤рпИ рокрпЖропрпНродродро╛ро▓рпН роХрпБро│ро┐ро░рпН ро╡ро╛роЯрпНроЯрпБроХро┐ро▒родрпБ ",
  "роХрпБро┤роирпНродрпИ роороХро┐ро┤рпНроЪрпНроЪро┐ропро╛роХ роЪро┐ро░ро┐роХрпНроХро┐ро▒родрпБ",
  "роЕро╡ройрпН рокроирпНродрпИ роОро▒ро┐роирпНродро╛ройрпН",
  "роиро╛роЩрпНроХро│рпН роирпЗро▒рпНро▒рпБ роХроЯрпИродрпНродрпЖро░рпБро╡рпБроХрпНроХрпБ роЪрпЖройрпНро▒рпЛроорпН",
  "рокрпВройрпИ роЖро▒рпНро▒рпБ роорпАройрпИ рокро┐роЯро┐родрпНродродрпБ",
  "рокроЯроХрпБ роХроЯро▓ро┐ро▓рпН рооро┐родроХрпНроХро┐ро▒родрпБ",
  "ро╡ро┐ро╡роЪро╛ропро┐ ро╡ропро▓ро┐ро▓рпН роЙро┤рпИродрпНродро╛ройрпН",
  "роорпАройрпНроХро│рпН роирпАро░ро┐ро▓рпН ро╡рпЗроХрооро╛роХ роирпАроирпНродрпБроХро┐ройрпНро▒рой",
  "роиро╛ропрпНроХро│рпН роЙрогро╡рпБ роХрпКроЯрпБродрпНродро╡ро░рпБроХрпНроХрпБ роОройрпНро▒рпБроорпН роиройрпНро▒ро┐ропрпБроЯройрпН роЗро░рпБроХрпНроХрпБроорпН",
  "роЕро╡ро│рпН роиро╛ро╡ро▓рпН ро╡ро╛роЪро┐роХрпНроХро┐ро▒ро╛ро│рпН",
  "рооро╛ро▓рпИ роирпЗро░роорпН роЕроорпИродро┐ропро╛роХ роЙро│рпНро│родрпБ",
  "роХроЯро┐роХро╛ро░роорпН роорогро┐ роТро▓ро┐роХрпНроХро┐ро▒родрпБ",
  "роХро╛роЯрпНроЯро╛ро▒рпНро▒рпБ ро╡рпЖро│рпНро│роорпН роЖрокродрпНродро╛ройродрпБ",
  "роиро╛ройрпН роЗройрпНро▒рпИроп рокрогро┐ропрпИ роОро│ро┐родро┐ро▓рпН роорпБроЯро┐родрпНродрпЗройрпН",
  "роЕро╡ройрпН роЪроорпИропро▓рпН роХро▓рпИропро┐ро▓рпН ро╡ро▓рпНро▓ро╡ройрпН",
  "роЕроорпНрооро╛ роХро╛ропрпНроХро▒ро┐ роиро▒рпБроХрпНроХро┐ройро╛ро░рпН",
  "родро╛родрпНродро╛ роиро▓рпНро▓ рокрпБродрпНродроХроЩрпНроХро│рпИ рокроЯро┐роХрпНроХ роХрпКроЯрпБродрпНродро╛ро░рпН",
  "роЕрогрпНрогройрпН рокро│рпНро│ро┐роХрпНроХрпБроЪрпН роЪрпЖройрпНро▒рпБро╡ро┐роЯрпНроЯрпБ рооро╛ро▓рпИропро┐ро▓рпН ро╡рпАроЯрпБ родро┐ро░рпБроорпНрокро┐ройро╛ройрпН",
  "роЕро╡ро│рпН роироЯройроорпН роЖроЯрпБроХро┐ро▒ро╛ро│рпН",
  "рооро╛рогро╡ро░рпНроХро│рпН роХро╡ройрооро╛роХрокрпН рокро╛роЯроорпН роХрпЗроЯрпНроЯройро░рпН",
  "рокрпВрооро┐ роЪрпВро░ро┐ропройрпИроЪрпН роЪрпБро▒рпНро▒рпБроХро┐ро▒родрпБ",
  "роиро╛ройрпН роирогрпНрокройрпБроЯройрпН родрпЗроирпАро░рпН рокро░рпБроХро┐ройрпЗройрпН",
  "ро╡ро╛роХрой роирпЖро░ро┐роЪро▓ро┐ро▓рпН ро╡рпАроЯрпНроЯрпБроХрпНроХрпБ ро╡ро░ родро╛роородроорпН роЖроХро┐ро╡ро┐роЯрпНроЯродрпБ",
  "роЕро╡ройрпН роХродрпИ роОро┤рпБродрпБро╡родро┐ро▓рпН родро┐ро▒роорпИропро╛ройро╡ройрпН",
  "роЪро┐родрпНродрокрпНрокро╛ рокрпКродрпБ роЕро▒ро┐ро╡рпБ роЪро┐роирпНродройрпИ роХрпКрогрпНроЯро╡ро░рпН"
];

function shuffleArray(arr){
  const r = arr.slice();
  for(let i=r.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [r[i],r[j]]=[r[j],r[i]];
  }
  return r;
}

function shuffleWords(sentence){
  const words = sentence.trim().split(/\s+/);
  let shuffled = words.slice();
  let attempts = 0;
  do {
    shuffled = shuffleArray(words);
    attempts++;
  } while(shuffled.join(" ")===sentence && attempts<20);
  return shuffled.join(" ");
}

let questions = [];
let answers = {};
let results = {};
let checked = false;
let currentPage = 0;
const TOTAL_PAGES = Math.ceil(sentences.length / QUESTIONS_PER_PAGE);

function generateQuestions(){
  const shuffledQ = shuffleArray(sentences);
  questions = shuffledQ.map(s => ({ a:s, q:shuffleWords(s) }));
}

function renderPage(){
  const quiz = document.getElementById("quiz");
  quiz.innerHTML = "";
  const start = currentPage * QUESTIONS_PER_PAGE;
  const end = Math.min(start + QUESTIONS_PER_PAGE, questions.length);

  for(let i=start;i<end;i++){
    const q = questions[i];
    const div = document.createElement("div");
    div.className = "qbox";

    const qnum = document.createElement("div");
    qnum.className = "qnum";
    qnum.textContent = `роХрпЗро│рпНро╡ро┐ ${i+1}`;
    div.appendChild(qnum);

    const p = document.createElement("div");
    p.className = "shuffledWords";
    p.textContent = q.q;
    div.appendChild(p);

    const input = document.createElement("input");
    input.type = "text";
    input.placeholder = "роЪрпКро▒рпНро▒рпКроЯро░рпИ роЪро░ро┐ропро╛рой ро╡ро░ро┐роЪрпИропро┐ро▓рпН роОро┤рпБродро╡рпБроорпН";
    input.value = answers[i] || "";
    input.addEventListener("input",()=>answers[i]=input.value);

    const ansLine = document.createElement("div");
    ansLine.className = "answerLine";
    ansLine.textContent = "тЬЕ роЪро░ро┐ропро╛рой роЪрпКро▒рпНро▒рпКроЯро░рпН: " + q.a;

    if(checked){
      input.disabled = true;
      ansLine.classList.add("show");
      if(results[i]==="correct") input.classList.add("correct");
      else input.classList.add("wrong");
    }

    div.appendChild(input);
    div.appendChild(ansLine);
    quiz.appendChild(div);
  }

  document.getElementById("checkBtn").style.display = (currentPage===TOTAL_PAGES-1)?'inline-block':'none';
  updatePageButtons();
}

function checkAll(){
  checked=true;
  results={};
  let score=0;
  let unanswered=0;
  for(let i=0;i<questions.length;i++){
    const ans=(answers[i]||"").trim();
    const correct=questions[i].a.trim();
    if(ans===""){ unanswered++; results[i]="unanswered"; }
    else if(ans===correct){ results[i]="correct"; score++; }
    else results[i]="wrong";
  }
  document.getElementById("scoreBox").style.display="block";
  document.getElementById("score").textContent=score;
  document.getElementById("total").textContent=questions.length;
  
  // рокрпБродро┐родро╛роХ роЪрпЗро░рпНроХрпНроХрокрпНрокроЯрпНроЯродрпБ тЖУ
  let ua = document.getElementById("unansweredCount");
  if(!ua){
    ua = document.createElement("div");
    ua.id = "unansweredCount";
    ua.style.marginTop="6px";
    ua.style.color="#d32f2f";
    document.getElementById("scoreBox").appendChild(ua);
  }
  ua.textContent = `ро╡ро┐роЯрпИропро│ро┐роХрпНроХро╛род роХрпЗро│рпНро╡ро┐роХро│рпН: ${unanswered}`;
  
  renderPage();
}

function nextPage(){ if(currentPage<TOTAL_PAGES-1){currentPage++; renderPage();} }
function prevPage(){ if(currentPage>0){currentPage--; renderPage();} }

function goToPage(p){ currentPage=p; renderPage(); }

function updatePageButtons(){
  const box=document.getElementById("pageBtns");
  box.innerHTML="";
  for(let i=0;i<TOTAL_PAGES;i++){
    const b=document.createElement("button");
    b.textContent=i+1;
    if(i===currentPage) b.classList.add("active");
    b.onclick=()=>goToPage(i);
    box.appendChild(b);
  }
}

function retryAll(){
  checked=false;
  answers={};
  results={};
  document.getElementById("scoreBox").style.display="none";
  const ua=document.getElementById("unansweredCount");
  if(ua) ua.remove();
  generateQuestions();
  currentPage=0;
  renderPage();
}

document.getElementById("nextBtn").onclick=nextPage;
document.getElementById("prevBtn").onclick=prevPage;
document.getElementById("checkBtn").onclick=checkAll;
document.getElementById("retryBtn").onclick=retryAll;
document.getElementById("homeBtn").onclick=()=>alert("ро╣рпЛроорпН рокроХрпНроХроорпН");

generateQuestions();
renderPage();
</script>

</body>
</html>
